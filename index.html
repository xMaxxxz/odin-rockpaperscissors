<!DOCTYPE html>
<head>
    <title>Rock, paper, scissors</title>
</head>
<body>
    <script>
        function computerPlay() {
            //Random integer from 0 to 2
            let randomNumber = Math.floor(Math.random() * 3);
            let selection;

            //Random computer selection
            switch(randomNumber) {
                case 0:
                    selection = "rock";
                    break;
                case 1:
                    selection = "paper";
                    break;
                case 2:
                    selection = "scissors";
                    break;
            }
            return selection;
        }

        function round() {
            //Paramaters to play
            let playerChoice = prompt("Which one do you pick: rock, paper or scissors?");
            let playerSelection = playerChoice.toLowerCase();
            let computerSelection = computerPlay();
            
            //Actual round
            if (playerSelection === computerSelection) {
                result = 0;
                console.log("It's a draw! You both picked the same choice.");
            } else if ((playerSelection === "rock" && computerSelection === "scissors") || (playerSelection === "paper" && computerSelection === "rock") || 
                    (playerSelection === "scissors" && computerSelection === "paper")) {
                result = 1;
                console.log ("You win, " + playerSelection + " beats " + computerSelection + " !");
            } else if (playerSelection !== "rock" && playerSelection !== "paper" && playerSelection !== "scissors") {
                console.log ("You made an unclear gesture, please try again.");
                result = false;
            } else {
                result = -1;
                console.log ("You lose, " + computerSelection + " beats " + playerSelection + " !");
            }
            return result;
        }

        function game() {
            let amountWon = 0;
            let amountLost = 0;
            while (amountWon < 3 && amountLost < 3) {
                round();
                if (result === 1) {
                    amountWon++;
                    console.log("The score is now " + amountWon + "-" +  amountLost + ".");
                } else if (result === -1) {
                    amountLost++;
                    console.log("The score is now " + amountWon + "-" +  amountLost + ".");
                } else {
                    console.log("The score is now " + amountWon + "-" +  amountLost + ".");
                }
            }
            
            if (amountWon === 3) {
                console.log("Congratulations, you are victorious!")
            } else {
                console.log("You have lost the game, better luck next time!")
            }

            console.log("Thanks for playing!")
        }

        //Welcome message on startup
        console.log("Welcome, type game() to play.") 
    </script>
</body>